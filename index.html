<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>å¤œå–°ã‚‰ã„ã®è¿·å®® å®Œæˆç‰ˆ</title>

<style>
body{
  <h1 style="color:white">TEST è¡¨ç¤ºã•ã‚Œã¦ã„ã¾ã™</h1>
  margin:0;
  background:#000;
  color:#eee;
  font-family:sans-serif;
}

/* æœ€åˆã¯ãƒˆãƒƒãƒ—ã ã‘è¡¨ç¤º */
#game{display:none;}

h2{text-align:center}

#map{
  display:grid;
  grid-template-columns:repeat(9,32px);
  justify-content:center;
  margin-top:10px;
}

.cell{
  width:32px;
  height:32px;
  border:1px solid #222;
}

.wall{background:#111}
.player{background:#09f}
.stairs{background:#0a0}

#ui{
  padding:6px;
  text-align:center;
  font-size:14px;
}

button{
  padding:8px 12px;
  margin:6px;
}
a{
  display:block;
  text-align:center;
  color:#0af;
  margin-bottom:10px;
}
</style>
</head>

<body>

<div id="top">
  <h2>ğŸŒ™ å¤œå–°ã‚‰ã„ã®è¿·å®®</h2>

  <a href="https://github.com/shouxigucun-creator/game-night-eater-dungeon/archive/refs/heads/main.zip">
    ğŸ“¦ ZIPãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
  </a>

  <div style="text-align:center">
    <button onclick="start()">â–¶ å†’é™ºé–‹å§‹</button>
  </div>
</div>

<div id="game">
  <div id="ui"></div>
  <div id="map"></div>
</div>

<script>
const topDiv = document.getElementById("top");
const gameDiv = document.getElementById("game");
const mapDiv  = document.getElementById("map");
const ui      = document.getElementById("ui");

const size = 9;
let map = [];
let px = 1, py = 1;
let floor = 1;
let hp = 10;
let food = 3;

function gen(){
  map = [];
  for(let y=0;y<size;y++){
    let r=[];
    for(let x=0;x<size;x++){
      r.push(Math.random()<0.15 ? "#" : ".");
    }
    map.push(r);
  }
  map[1][1] = "P";
  map[7][7] = ">";
}

function draw(){
  mapDiv.innerHTML = "";
  for(let y=0;y<size;y++){
    for(let x=0;x<size;x++){
      let c="cell";
      if(map[y][x]==="#") c+=" wall";
      if(px===x && py===y) c+=" player";
      if(map[y][x]===">") c+=" stairs";
      mapDiv.innerHTML += `<div class="${c}"></div>`;
    }
  }
  ui.textContent = `${floor}F  â¤ï¸HP:${hp}  ğŸ–:${food}`;
}

function start(){
  topDiv.style.display="none";
  gameDiv.style.display="block";
  gen();
  draw();
}
</script>

</body>
</html>
